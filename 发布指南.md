# 发布指南

## 🚀 快速发布

### 方法1: 使用 Git Tag（最简单）

```bash
# 1. 创建 tag
git tag v1.0.0

# 2. 推送 tag
git push origin v1.0.0

# 3. 等待 GitHub Actions 自动完成
#    - 构建项目
#    - 创建 Release
#    - 上传压缩包

# 4. 查看结果
#    访问: https://github.com/你的用户名/你的仓库/releases
```

### 方法2: 手动触发工作流

1. 打开 GitHub 仓库
2. 点击 **Actions** 标签页
3. 左侧选择 **Release** 工作流
4. 点击 **Run workflow**
5. 输入版本号（如：v1.0.0）
6. 点击 **Run workflow** 按钮
7. 等待完成（约 2-5 分钟）

## 📦 发布后做什么

发布成功后，你会在 Releases 页面看到：

1. **release-package.tar.gz** - 完整的发布包
2. **版本说明** - 包含更新内容和使用指南

### 下载并使用

```bash
# 下载压缩包
wget https://github.com/.../releases/download/v1.0.0/release-package.tar.gz

# 解压
tar -xzf release-package.tar.gz

# 查看说明
cat README-部署说明.md

# 部署到服务器
# 或直接使用 out 目录
```

## 🔄 版本号规范

建议使用语义化版本：

- `v1.0.0` - 主版本.次版本.修订号
- `v1.0.1` - 修复 bug
- `v1.1.0` - 新功能
- `v2.0.0` - 重大变更

## 📝 发布前检查清单

- [ ] 代码已提交到 main 分支
- [ ] 测试通过（本地运行正常）
- [ ] 更新了 README（如有必要）
- [ ] 确定版本号

## 🎯 发布流程图

```
代码提交 → 创建 Tag → Actions 构建 → 打包 → 创建 Release → 完成
                    ↓
              自动触发工作流
```

## ⚡ 快速命令

```bash
# 发布新版本
git tag v1.0.1 && git push origin v1.0.1

# 查看所有 tag
git tag -l

# 删除 tag（如果需要）
git tag -d v1.0.1
git push origin --delete v1.0.1
```

## 🔍 查看构建状态

1. **Actions 页面**: `https://github.com/用户名/仓库名/actions`
2. **Releases 页面**: `https://github.com/用户名/仓库名/releases`
3. **具体工作流**: 点击 Actions 中的运行记录

## ❓ 常见问题

**Q: 发布需要多长时间？**
A: 通常 2-5 分钟，取决于依赖大小

**Q: 发布失败怎么办？**
A: 查看 Actions 日志，根据错误信息修复

**Q: 可以发布测试版本吗？**
A: 可以，使用 `v1.0.0-beta` 等格式

**Q: 如何更新已发布的版本？**
A: 创建新的 tag 并推送，会发布新版本

## 💡 小贴士

- 发布前先在本地测试 `pnpm build`
- 使用有意义的版本号
- 发布后检查 Release 页面内容是否完整
- 可以在 Release 描述中添加详细的更新说明
